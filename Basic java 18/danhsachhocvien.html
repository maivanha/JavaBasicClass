<html>
<head>
<title>Danh sách học viên</title>
<style>
	.grid-container{
		display: grid;
		grid-template-areas:
			'left header header header header header header header'
			'left content content content content content right right'
			'footer footer footer footer footer footer right right'
			'author author author author author author author author';
		grid-gap: 5px;
		padding: 5px 10px;
	}
	
	.grid-container > div {
		padding: 5px;
		border: 1px solid blue;
	}
	
	.header {grid-area: header}
	.leftMenu {grid-area: left}
	.content {grid-area: content}
	.rightMenu {grid-area: right}
	.footer {grid-area: footer}
	.author {grid-area: author}
	
	#studentCode {
		background-color: yellow;
	}
	
	.tbTitle {
		text-align: right;
		padding-right: 10px;
		font-weight: bold;
		text-transform: capitalize;
	}
	
	.required {
		color: red;
		text-al
	}
	
	.tbTitle .passWord {
		color: red;
	}
	
	form {
		margin-left: 10px;
	}
</style>
</head>

<body>
	<div class="grid-container">
		<div class="header">Header</div>
		<div class="leftMenu">Left Menu</div>
		<div class="content">
			<h1> Danh sách học viên </h1>
			<table cellpadding="5" bgcolor="yellow" border=1 style="border-collapse: collapse;">
				<caption>
					Danh sách lớp Java18
					<button onclick="openPopup()"
					style="padding: 2px 5px; float: right; margin-bottom: 5px;">Thêm mới</button>
				</caption>
				<tr>
					<th>STT</th>
					<th>Mã SV</th>
					<th>Họ Tên</th>
					<th>eMail</th>
					<th>Khóa Học</th>
				</tr>
				<tr>
					<td>01</td>
					<td>001</td>
					<td>Nguyễn Văn A</td>
					<td>anguyenvan@gmail.com</td>
					<td>JavaWeb18</td>
				</tr>
				<tr>
					<td>02</td>
					<td>002</td>
					<td>Nguyễn Văn B</td>
					<td>bnguyenvan@gmail.com</td>
					<td>JavaWeb18</td>
				</tr>
				<tr>
					<td rowspan="2" valign="top">03</td>
					<td rowspan="2" valign="top">003</td>
					<td rowspan="2" valign="top">Nguyễn Văn C</td>
					<td>cnguyenvan@gmail.com</td>
					<td>JavaWeb18</td>
				</tr>
				<tr>
					<td>c2nguyenvan@gmail.com</td>
					<td>JavaWeb15</td>
				</tr>
				<tr>
					<td colspan="5" align="center">
						Tổng số sinh viên: 03 Sinh viên
					</td>
				</tr>
			</table>
		
		</div>
		<div class="rightMenu">
			Right Menu
			<div id="classList" onmousemove="changeColorToGrey(this)" onmouseout="changeColorToWhite(this)"></div>
		</div>
		<div class="footer">Footer</div>
		<div class="author">Author</div>
	</div>
	
	<div style="background-color: white; display: none; border: 3px solid gray; padding-right: 5px;" 
		id="addNewStudentForm">
		<span class="passWord"><h2>Thông tin học viên</h2></span>
		<form name="stdFormInput" action="">
			<table cellpadding="5" border=1 style="border-collapse: collapse;">
				<tr>
					<td class="tbTitle required">Mã SV:</td>
					<td>
						<input onchange="convertToUpperCase(this)" type="text" name="StuCode" id="studentCode" maxlength=20 size=22 value="Nhập Mã SV">
					</td>
				</tr>
				<tr>
					<td class="tbTitle required">Họ và tên:</td>
					<td>
						<input type="text" name="StuName" id="studentName" maxlength=100 size=50>
					</td>
				</tr>
				<tr>
					<td class="tbTitle">Ngày sinh:</td>
					<td>
						<input type="date" name="birthDay" id="studentBirthDay">
					</td>
				</tr>
				<tr>
					<td class="tbTitle">Giới tính:</td>
					<td>
						<input type="radio" name="StuGender" id="studentGenderMale" value="Male"> Nam
						<input type="radio" name="StuGender" id="studentGenderFeMale" value="FeMale"> Nữ
					</td>
				</tr>
				<tr>
					<td class="tbTitle">Ảnh thẻ:</td>
					<td>
						<input type="file" name="studentImage">
					</td>
				</tr>
				<tr>
					<td class="tbTitle">Điểm đầu vào:</td>
					<td>
						<input type="range" name="studentScore" id="score" name="studentScore" min="0" max="100">
					</td>
				</tr>
				<tr>
					<td class="tbTitle">Màu yêu thích:</td>
					<td>
						<input type="color" name="studentColor" id="studentColor">
					</td>
				</tr>
				<tr>
					<td class="tbTitle required">Số điện thoại:</td>
					<td>
						<input type="text" name="stuPhone" id="stuPhone" maxlength=15 size=20>
					</td>
				</tr>
				<tr>
					<td class="tbTitle required">Địa chỉ email:</td>
					<td>
						<input type="text" name="studentEmail" id="studentEmail" maxlength=30 size=32>
					</td>
				</tr>
				<tr>
					<td class="tbTitle required">Tên đăng nhập:</td>
					<td>
						<input type="text" name="StuUserName" id="studentUserName" maxlength=20 size=22>
					</td>
				</tr>
				<tr>
					<td class="tbTitle required">
						<span class="passWord">Mật khẩu đăng nhập:</span>
					</td>
					<td>
						<input type="password" name="StuPassWord" id="studentPassWord" maxlength=30 size=32>
					</td>
				</tr>
				<tr>
					<td class="tbTitle required">
						<span class="passWord">Nhập lại mật khẩu:</span>
					</td>
					<td>
						<input type="password" name="StuRePassWord" id="studentRePassWord" maxlength=30 size=32>
					</td>
				</tr>
				<tr>
					<td class="tbTitle">Mong muốn khi tham gia:</td>
					<td>
						<textarea rows=5 cols="75" name="StuRePassWord" id="studentRePassWord">Mô tả mong muốn, mục tiêu nhắm đến khi tham gia khóa học
						</textarea>
					</td>
				</tr>
				<tr>
					<td class="tbTitle required" style="text-decoration: underline;">Các Topics đăng ký:</td>
					<td>
						<input type="checkbox" value="BasicJavaWeb" name="BasicJavaWeb"> Basic Java Web
						<input type="checkbox" value="FrameworkJavaWeb" name="BasicJavaWeb"> Framework Java Web
					</td>
				</tr>
				<tr>
					<td class="tbTitle required">Lịch học:</td>
					<td>
						<select name="lichHoc" id="lichHoc">
							<option value="0">Chọn một lịch học thích hợp</option>
							<option value="1">Thứ 2 - 4 hàng tuần</option>
							<option value="2" selected>Thứ 3 - 5 hàng tuần</option>
							<option value="3">Thứ 5 - 7 hàng tuần</option>
						</select>
					</td>
				</tr>
				<tr>
					<td colspan="2" align="center">
						<input type="button" onclick="saveData()" value="Lưu">
						<input type="reset" value="Nhập Lại">
						<input type="button" onclick="closePopup()" value="Đóng cửa sổ">
					</td>
					<input type="hidden" name="editedStudentCode" value="10">
				</tr>
			</table>
		</form>
	</div>

	<div id="maskLayer" style="display: none; background-color: lightgrey; z-index:25; width:100%; height:100%;"></div>
</body>
<script>
	var cArr = new Array("HTMLT 5", "CSS 4", "JavaScript", "JQuery", "Java Core", "MySQL");
	var ulElement = document.createElement("ul");
	//var str = "<ul>";
	/*
	for(i = 0; i < cArr.length; i ++) {
		str += "<li>" + cArr[i] + "</li>";
	}
	*/
	/*
	for(var i in cArr){
		str += "<li>" + cArr[i] + "</li>";
	}
	*/
	
	cArr.sort();
	cArr.reverse()
	
	cArr.forEach(arrProcess);
	
	function arrProcess(value){
		//str += "<li>" + value + "</li>";
		var liElement = document.createElement("li");
		oldColor = "";
		liElement.onmousedown = function() {
			oldColor = liElement.style.background;
			liElement.style.background = "yellow";
		}
		
		liElement.onmouseup = function() {
			liElement.style.background = oldColor;
			oldColor = "";
		}
		
		textNode = document.createTextNode(value);
		
		liElement.append(textNode);
		ulElement.append(liElement);
	}
	
	//str += "</ul>";
	//document.getElementById("classList").innerHTML = str;
	
	function changeColorToWhite(ele){
		//alert(ele);
		ele.style.background="white";
	}
	
	function changeColorToGrey(ele){
		ele.style.background="lightgrey";
	}
	
	function addMouseEventIntoTRElements(){
		document.getElementById("classList").append(ulElement);
		
		trEles = document.getElementsByTagName("tr");
		for(i = 0; i < trEles.length; i ++){
			trEle = trEles[i];
			trEle.setAttribute("onmousemove", "changeColorToWhite(this)");
			trEle.setAttribute("onmouseout", "changeColorToGrey(this)");
		}
	}
	
	function convertToUpperCase(ele){
		ele.value = ele.value.toUpperCase();
	}
	
	addMouseEventIntoTRElements();
	
	function saveData(){
		stdForm = document.forms['stdFormInput'];
		StuCode = stdForm.StuCode.value;
		studentName = stdForm.studentName.value;
		studentUserName = stdForm.studentUserName.value;
		studentPassWord = stdForm.studentPassWord.value;
		studentRePassWord = stdForm.studentRePassWord.value;
		studentEmail = stdForm.studentEmail.value;
		stuPhone = stdForm.stuPhone.value;
		
		
		requiredMessage = '';
		if(StuCode == '') requiredMessage += 'Trường "Mã SV" không được bỏ trống \n';
		if(studentName == '') requiredMessage += 'Trường "Họ và tên" không được bỏ trống \n';
		if(studentUserName == '') requiredMessage += 'Trường "Tên Đăng Nhập" không được bỏ trống \n';
		if(studentPassWord == '' || studentRePassWord || studentPassWord != studentRePassWord) 
			requiredMessage += 'Trường "Mật Khẩu Đăng Nhập" và "Nhập Lại Mật Khẩu" không được bỏ trống và phải giống nhau\n';
			
		const emailRe = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
		if (emailRe.test(studentEmail.toLowerCase()) == false)
			requiredMessage += "Địa chỉ email không hợp lệ !\n";
			
		var phoneRe = /^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im;
		if (phoneRe.test(stuPhone) == false)
			requiredMessage += "Số điện thoại không hợp lệ !";
			
		alert(requiredMessage);
	}
	
	function closePopup(){
		document.getElementById("addNewStudentForm").style.display="none";
		document.getElementById("maskLayer").style.display="none";
	}
	
	function openPopup(){
		stdForm = document.getElementById("addNewStudentForm");
		stdForm.style.position="absolute";
		stdForm.style.zIndex = "50";
		stdForm.style.display="block";
		stdForm.style.maxWidth="810px";
		stdForm.style.left = "150px";
		stdForm.style.top = "15px";
		
		maskLayer = document.getElementById("maskLayer");
		maskLayer.style.position="absolute";
		maskLayer.style.display="block";
		maskLayer.style.left = "0px";
		maskLayer.style.top = "0px";
		maskLayer.style.opacity = "0.35";
	}
</script>
</html>